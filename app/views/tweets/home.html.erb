<div class="container">
  <div class="row">
    <div class="col-0 col-lg-3"></div>
    <div class="col-12 col-lg-6">
      <div class="row">
        <div class="col-12">
          <h3 class="home-title">Home</h3>
        </div>
        <div class="col-12">
          <div class="new-tweet-form">
            <%= simple_form_for([@tweet], remote: true) do |f| %>
              <%= f.input :content, label: false, placeholder: "What's happening?" %>
              <div class="d-flex justify-content-end">
                <%= f.submit 'Tweet', class: 'btn btn-tweet' %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <% @tweets.each do |tweet| %>
            <div class="tweet" id="tweet-<%= tweet.id %>">
              <% if tweet.is_retweet %>
                <div class="retweet d-flex">
                  <i class="fas fa-retweet"></i>
                  <%= tweet.user.username %> Retweeted
                </div>
              <% end %>
              <div class="tweet-info d-flex">
                <%= link_to user_path(tweet.user), class: 'user-avatar' do %>
                    <%= image_tag "https://kitt.lewagon.com/placeholder/users/ssaunier", class: "avatar"%>
                <% end %>
                <div class="tweet-content w-75">
                  <div class="user-info d-flex">
                    <%= link_to user_path(tweet.user), class: 'd-flex user-info-link' do %>
                      <p class="user-info-username"><%= tweet.user.username %></p>
                      <p>@<%= tweet.user.user_account %></p>
                    <% end %>
                    <p> - <%= ((Time.now - tweet.created_at)/3600).ceil %>h</p>
                  </div>
                  <p class="tweet-content-text"><%= tweet.content %></p>
                  <div class="tweet-actions d-flex justify-content-between">
                    <div class="tweet-reply">
                      <i class="far fa-comment-dots"></i> <%= tweet.replies_count %>
                    </div>
                    <div class="tweet-retweet">
                      <i class="fas fa-retweet"></i> <%= tweet.retweets_count %>
                    </div>
                    <div class="tweet-like">
                      <%= link_to tweet_path(tweet), method: :patch, remote: true do %>
                        <i class="fas fa-heart"></i> <span ><%= tweet.likes_count %></span>
                      <% end %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
    <div class="col-0 col-lg-3">
      <h3 id="top-news-title">What's happening</h3>
      <% @news.each do |n| %>
        <%= link_to  "#{n['url']}", class: "news-link" do %>
          <div class="news">
            <div class="news-info d-flex justify-content-between">
              <div>
                <h4><%= n['title'] %></h4>
                <p id="news-author"><em><%= n['author'] %></em></p>
              </div>
              <%= image_tag "#{n['urlToImage']}", class: "news-img" %>
            </div>
            <p><%= n['description'] %></p>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>